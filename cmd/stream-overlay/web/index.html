<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Stream Overlay</title>

    <!-- Pixel font -->
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet"/>
    <link rel="stylesheet" href="css/overlay.css"/>
</head>
<body>
<!-- Background video (fixed, behind everything) -->
<video
        id="bg-video"
        poster="assets/fred-wizard-overlay-background.png"
        autoplay
        loop
        muted
        playsinline
>
    <source src="assets/overlay-background.mp4" type="video/mp4"/>
</video>

<!-- Foreground overlay -->
<div class="overlay-container">
    <!-- Click animation overlay -->
    <div id="animation-overlay">
        <img id="animation-gif" src="" alt="Quest animation"/>
    </div>

    <!-- Scrollable quests -->
    <div class="quest-scroll">
        <div class="quest-history">
            <!-- 4 Active (clickable) -->
            <div class="quest-bubble active-quest" data-gif="assets/quest-popup.gif">
                <div class="quest-icon"><img src="assets/fred-wizard-avatar.png" alt="Lamina"/></div>
                <div class="quest-text">
                    <h3 class="quest-title">Lamina</h3>
                    <p class="quest-desc">Use 5 laminas per call</p>
                </div>
                <div class="quest-count">1/3</div>
            </div>
            <div class="quest-bubble active-quest" data-gif="assets/quest-popup.gif">
                <div class="quest-icon"><img src="assets/fred-wizard-avatar2.png" alt="Rune"/></div>
                <div class="quest-text">
                    <h3 class="quest-title">Rune</h3>
                    <p class="quest-desc">Cast 3 runes</p>
                </div>
                <div class="quest-count">2/3</div>
            </div>
            <div class="quest-bubble active-quest" data-gif="assets/quest-popup.gif">
                <div class="quest-icon"><img src="assets/fred-wizard-avatar3.png" alt="Glyph"/></div>
                <div class="quest-text">
                    <h3 class="quest-title">Glyph</h3>
                    <p class="quest-desc">Collect 7 glyphs</p>
                </div>
                <div class="quest-count">4/7</div>
            </div>
            <div class="quest-bubble active-quest" data-gif="assets/quest-popup.gif">
                <div class="quest-icon"><img src="assets/fred-wizard-avatar4.png" alt="Sigil"/></div>
                <div class="quest-text">
                    <h3 class="quest-title">Sigil</h3>
                    <p class="quest-desc">Activate 2 sigils</p>
                </div>
                <div class="quest-count">1/2</div>
            </div>

            <!-- 4 Completed (faded) -->
            <div class="quest-bubble completed">
                <div class="quest-icon"><img src="assets/fred-wizard-avatar.png" alt="Shard"/></div>
                <div class="quest-text">
                    <h3 class="quest-title">Shard</h3>
                    <p class="quest-desc">Shard 10 crystals</p>
                </div>
                <div class="quest-count">10/10</div>
            </div>
            <div class="quest-bubble completed">
                <div class="quest-icon"><img src="assets/fred-wizard-avatar2.png" alt="Flame"/></div>
                <div class="quest-text">
                    <h3 class="quest-title">Flame</h3>
                    <p class="quest-desc">Ignite 4 torches</p>
                </div>
                <div class="quest-count">4/4</div>
            </div>
            <div class="quest-bubble completed">
                <div class="quest-icon"><img src="assets/fred-wizard-avatar3.png" alt="Crystal"/></div>
                <div class="quest-text">
                    <h3 class="quest-title">Crystal</h3>
                    <p class="quest-desc">Mine 6 crystals</p>
                </div>
                <div class="quest-count">6/6</div>
            </div>
            <div class="quest-bubble completed">
                <div class="quest-icon"><img src="assets/fred-wizard-avatar4.png" alt="Scroll"/></div>
                <div class="quest-text">
                    <h3 class="quest-title">Scroll</h3>
                    <p class="quest-desc">Read 8 scrolls</p>
                </div>
                <div class="quest-count">8/8</div>
            </div>
        </div>
    </div>

    <!-- Stats bar -->
    <div class="quest-stats">
        <div class="stats-item">Active: 4</div>
        <div class="stats-item">Completed: 4</div>
        <div class="stats-item">Total: 8</div>
        <div class="stats-item">XP: 360</div>
        <div class="stats-item">Donations: 18</div>
    </div>
</div>

<script>
    (() => {
        const overlay = document.getElementById('animation-overlay');
        const gif = document.getElementById('animation-gif');
        let animating = false;
        const DURATION = 2000;

        document.querySelectorAll('.active-quest').forEach(el => {
            el.addEventListener('click', () => {
                if (animating) return;
                animating = true;
                gif.src = el.dataset.gif;
                overlay.classList.add('active');
                setTimeout(() => {
                    overlay.classList.remove('active');
                    animating = false;
                }, DURATION);
            });
        });
    })();
</script>
</body>
</html>


<!--<!doctype html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="utf-8" />-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1" />-->
<!--    <title>Stream Overlay</title>-->

<!--    &lt;!&ndash; Retro pixel font &ndash;&gt;-->
<!--    <link-->
<!--            href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"-->
<!--            rel="stylesheet"-->
<!--    />-->

<!--    &lt;!&ndash; Overlay styles &ndash;&gt;-->
<!--    <link rel="stylesheet" href="css/overlay.css" />-->
<!--</head>-->
<!--<body>-->
<!--<div class="overlay-container">-->
<!--    &lt;!&ndash; Animation overlay (hidden by default) &ndash;&gt;-->
<!--    <div id="animation-overlay">-->
<!--        <img id="animation-gif" src="" alt="Quest animation" />-->
<!--    </div>-->

<!--    &lt;!&ndash; Scrollable quests &ndash;&gt;-->
<!--    <div class="quest-scroll">-->
<!--        <div class="quest-history">-->
<!--            &lt;!&ndash; Active quests (clickable) &ndash;&gt;-->
<!--            <div class="quest-bubble active-quest" data-gif="assets/quest-popup.gif">-->
<!--                <div class="quest-icon">-->
<!--                    <img src="assets/fred-wizard-avatar.png" alt="Lamina icon" />-->
<!--                </div>-->
<!--                <div class="quest-text">-->
<!--                    <h3 class="quest-title">Lamina</h3>-->
<!--                    <p class="quest-desc">Use 5 laminas per call</p>-->
<!--                </div>-->
<!--                <div class="quest-count">1/3</div>-->
<!--            </div>-->

<!--            <div class="quest-bubble active-quest" data-gif="assets/quest-popup.gif">-->
<!--                <div class="quest-icon">-->
<!--                    <img src="assets/fred-wizard-avatar2.png" alt="Rune icon" />-->
<!--                </div>-->
<!--                <div class="quest-text">-->
<!--                    <h3 class="quest-title">Rune</h3>-->
<!--                    <p class="quest-desc">Cast 3 runes</p>-->
<!--                </div>-->
<!--                <div class="quest-count">2/3</div>-->
<!--            </div>-->

<!--            <div class="quest-bubble active-quest" data-gif="assets/quest-popup.gif">-->
<!--                <div class="quest-icon">-->
<!--                    <img src="assets/fred-wizard-avatar3.png" alt="Glyph icon" />-->
<!--                </div>-->
<!--                <div class="quest-text">-->
<!--                    <h3 class="quest-title">Glyph</h3>-->
<!--                    <p class="quest-desc">Collect 7 glyphs</p>-->
<!--                </div>-->
<!--                <div class="quest-count">4/7</div>-->
<!--            </div>-->

<!--            <div class="quest-bubble active-quest" data-gif="assets/quest-popup.gif">-->
<!--                <div class="quest-icon">-->
<!--                    <img src="assets/fred-wizard-avatar4.png" alt="Sigil icon" />-->
<!--                </div>-->
<!--                <div class="quest-text">-->
<!--                    <h3 class="quest-title">Sigil</h3>-->
<!--                    <p class="quest-desc">Activate 2 sigils</p>-->
<!--                </div>-->
<!--                <div class="quest-count">1/2</div>-->
<!--            </div>-->

<!--            &lt;!&ndash; Completed quests (non-clickable) &ndash;&gt;-->
<!--            <div class="quest-bubble completed">-->
<!--                <div class="quest-icon">-->
<!--                    <img src="assets/fred-wizard-avatar.png" alt="Shard icon" />-->
<!--                </div>-->
<!--                <div class="quest-text">-->
<!--                    <h3 class="quest-title">Shard</h3>-->
<!--                    <p class="quest-desc">Shard 10 crystals</p>-->
<!--                </div>-->
<!--                <div class="quest-count">10/10</div>-->
<!--            </div>-->

<!--            <div class="quest-bubble completed">-->
<!--                <div class="quest-icon">-->
<!--                    <img src="assets/fred-wizard-avatar2.png" alt="Flame icon" />-->
<!--                </div>-->
<!--                <div class="quest-text">-->
<!--                    <h3 class="quest-title">Flame</h3>-->
<!--                    <p class="quest-desc">Ignite 4 torches</p>-->
<!--                </div>-->
<!--                <div class="quest-count">4/4</div>-->
<!--            </div>-->

<!--            <div class="quest-bubble completed">-->
<!--                <div class="quest-icon">-->
<!--                    <img src="assets/fred-wizard-avatar3.png" alt="Crystal icon" />-->
<!--                </div>-->
<!--                <div class="quest-text">-->
<!--                    <h3 class="quest-title">Crystal</h3>-->
<!--                    <p class="quest-desc">Mine 6 crystals</p>-->
<!--                </div>-->
<!--                <div class="quest-count">6/6</div>-->
<!--            </div>-->

<!--            <div class="quest-bubble completed">-->
<!--                <div class="quest-icon">-->
<!--                    <img src="assets/fred-wizard-avatar4.png" alt="Scroll icon" />-->
<!--                </div>-->
<!--                <div class="quest-text">-->
<!--                    <h3 class="quest-title">Scroll</h3>-->
<!--                    <p class="quest-desc">Read 8 scrolls</p>-->
<!--                </div>-->
<!--                <div class="quest-count">8/8</div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->

<!--    &lt;!&ndash; Stats bar pinned at bottom &ndash;&gt;-->
<!--    <div class="quest-stats">-->
<!--        <div class="stats-item">Active: 4</div>-->
<!--        <div class="stats-item">Completed: 4</div>-->
<!--        <div class="stats-item">Total: 8</div>-->
<!--        <div class="stats-item">XP: 360</div>-->
<!--        <div class="stats-item">Donations: 18</div>-->
<!--    </div>-->
<!--</div>-->

<!--<script>-->
<!--    (() => {-->
<!--        const overlay = document.getElementById('animation-overlay');-->
<!--        const gif = document.getElementById('animation-gif');-->
<!--        let animating = false;-->
<!--        const DURATION = 4000; // ms — match your GIF length-->

<!--        document.querySelectorAll('.active-quest').forEach(el => {-->
<!--            el.addEventListener('click', () => {-->
<!--                if (animating) return;-->
<!--                animating = true;-->
<!--                // Darken + show GIF-->
<!--                const src = el.getAttribute('data-gif');-->
<!--                gif.src = src;-->
<!--                overlay.classList.add('active');-->
<!--                // hide after DURATION-->
<!--                setTimeout(() => {-->
<!--                    overlay.classList.remove('active');-->
<!--                    animating = false;-->
<!--                }, DURATION);-->
<!--            });-->
<!--        });-->
<!--    })();-->
<!--</script>-->
<!--</body>-->
<!--</html>-->

